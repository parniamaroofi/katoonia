import{_ as C}from"./BLTjAdUL.js";import{_ as V,t as d,v as m,G as E,H as N,N as h,x as o,z as r,A as a,B as f,V as g,y,P as w,f as i,O as v,W as _,X as P,C as M,E as S}from"./DaplssYx.js";import{L as z}from"./Bn6PYqT_.js";import"./Dudy9OWa.js";const A={name:"DigitizeFrontendCheckbox",props:["items","label","multiple","modelValue"],setup(t){const e=i(!1),x=i(!1),s=i(t.multiple),c=i(t.items),n=i(t.label);return{show:x,result:e,items:c,label:n,multiple:s}},mounted(){setTimeout(()=>{this.result=this.modelValue,this.show=!0},1)},methods:{toggleCheckbox(t){this.result.some(e=>e==t.value)?this.result=this.result.filter(e=>e!=t.value):this.result.push(t.value),this.updateResult()},toggleCheckboxForSingle(){this.result=!this.result,this.updateResult()},updateResult(){this.$emit("update:modelValue",this.result)}}},L={key:0},U={key:0},D=["onClick"],F={class:"text-gray-600 font-semibold text-[14px]"},T={key:1},B={class:"text-gray-600 font-semibold text-[14px]"};function I(t,e,x,s,c,n){var u;return s.show?(d(),m("section",L,[(u=s.items)!=null&&u.length?(d(),m("div",U,[(d(!0),m(E,null,N(s.items,(p,l)=>{var b;return d(),m("div",{key:l,class:h(l!=s.items.length-1?"mb-4":"")},[o("div",{class:"flex items-center gap-x-3 cursor-pointer w-fit",onClick:k=>n.toggleCheckbox(p)},[o("div",{class:h([(b=s.result)!=null&&b.some(k=>k==p.value)?"bg-primary":"border","size-[22px] rounded-[6px] duration-300 flex justify-center items-center"])},[r(g,{size:"x-small",color:"white"},{default:a(()=>e[1]||(e[1]=[f("mdi-check")])),_:1})],2),o("span",F,y(p.title),1)],8,D)],2)}),128))])):(d(),m("div",T,[o("div",{class:"flex items-center gap-x-3 cursor-pointer w-fit",onClick:e[0]||(e[0]=p=>n.toggleCheckboxForSingle())},[o("div",{class:h([s.result?"bg-primary":"border","size-[22px] rounded-[6px] duration-300 flex justify-center items-center"])},[r(g,{size:"x-small",color:"white"},{default:a(()=>e[2]||(e[2]=[f("mdi-check")])),_:1})],2),o("span",B,y(s.label),1)])]))])):w("",!0)}const j=V(A,[["render",I]]),$={name:"OnboardingFrontendLogin",setup(){const t=i(""),e=i(""),x=i(!1),s=i(!1),c=i(!1),n=i(!1),u=i({username:!1,password:!1});return{loading:x,username:t,password:e,showError:u,isShaking:s,rememberMe:c,showPassword:n}},mounted(){this.$cookies.get("loginUserName")&&(this.username=this.$cookies.get("loginUserName"),this.rememberMe=!0),this.$cookies.get("loginPassword")&&(this.password=this.$cookies.get("loginPassword"),this.rememberMe=!0),this.$cookies.get("token")&&this.$router.push("/adminDashboard")},methods:{doLogin(){this.username||this.showErrorMessage("username"),this.password||this.showErrorMessage("password"),this.username&&this.password&&(this.loading=!0,this.$axios.post(z,{userName:this.username,password:this.password}).then(t=>{this.$cookies.set("token",t.data.tokens.accessToken,{expires:2592e3,path:"/",maxAge:2592e3}),this.$cookies.set("userId",t.data.user.id,{expires:2592e3,path:"/",maxAge:2592e3}),this.$cookies.set("username",t.data.user.userName,{expires:2592e3,path:"/",maxAge:2592e3}),this.$cookies.set("roleId",1,{expires:2592e3,path:"/",maxAge:2592e3}),this.rememberMe?(this.$cookies.set("loginUserName",this.username,{path:"/"}),this.$cookies.set("loginPassword",this.password,{path:"/"})):(this.$cookies.set("loginUserName","",{expires:1,path:"/",maxAge:1}),this.$cookies.set("loginPassword","",{expires:1,path:"/",maxAge:1})),this.$router.push("/adminDashboard")}).catch(t=>{this.loading=!1}))},showErrorMessage(t){this.showError[t]?(this.isShaking=!0,setTimeout(()=>{this.isShaking=!1},300)):this.showError[t]=!0}}},K={class:"bg-gradient-to-bl from-[#343230] to-[#4f4c49] via-primary/55 relative h-screen flex justify-center align-center"},R={class:"w-full p-[84px_68px]"},O={class:"mt-8"};function W(t,e,x,s,c,n){const u=C,p=j;return d(),m("div",K,[r(S,{class:"aspect-square shadow-xl rounded-[30px] flex justify-between items-center",flat:""},{default:a(()=>[o("div",R,[e[13]||(e[13]=o("section",{class:"text-center"},[o("p",{class:"text-[30px] text-[#323232] font-extrabold",style:{"text-shadow":"0 4px 4px #0000003b"}}," ورود به پنل ادمین "),o("p",{class:"mt-3 text-[15px] text-black"}," لطفا جهت ورود به حساب، نام کاربری و رمز عبور را وارد کنید: ")],-1)),o("section",{class:h(["mt-8 mb-6 duration-500",s.showError.username?"h-[88px]":"h-[72px]"])},[e[8]||(e[8]=o("label",{for:"username",class:"text-[14px] text-black mx-2"}," نام کاربری ",-1)),r(v,{hideDetails:"",id:"username",class:"mt-1.5",color:"primary",variant:"outlined",density:"comfortable",placeholder:"نام کاربری را وارد کنید",onInput:e[0]||(e[0]=l=>s.username?s.showError.username=!1:""),modelValue:s.username,"onUpdate:modelValue":e[1]||(e[1]=l=>s.username=l)},{"prepend-inner":a(()=>[r(g,{class:"fill-gray-500"},{default:a(()=>e[6]||(e[6]=[f("svg:user")])),_:1})]),_:1},8,["modelValue"]),r(_,{name:"slide-fade"},{default:a(()=>[s.showError.username?(d(),m("div",{key:0,class:h(["flex gap-x-2 text-[#ff4b4b]",s.isShaking?"shaking":""])},e[7]||(e[7]=[o("span",{class:"font-semibold text-[12px] mt-2"}," نام کاربری را وارد کنید. ",-1)]),2)):w("",!0)]),_:1})],2),o("section",{class:h(["xl:mt-8 mt-4 mb-6 duration-500",s.showError.password?"h-[88px]":"h-[72px]"])},[e[11]||(e[11]=o("label",{for:"password",class:"text-[14px] text-black mx-2"}," رمز عبور ",-1)),r(v,{hideDetails:"",id:"password",class:"mt-1.5",color:"primary",variant:"outlined",density:"comfortable",placeholder:"رمز عبور را وارد کنید.",type:s.showPassword?"text":"password",onInput:e[3]||(e[3]=l=>s.password?s.showError.password=!1:""),onKeyup:P(n.doLogin,["enter"]),modelValue:s.password,"onUpdate:modelValue":e[4]||(e[4]=l=>s.password=l)},{"prepend-inner":a(()=>[r(g,{class:"fill-gray-500"},{default:a(()=>e[9]||(e[9]=[f("svg:password")])),_:1})]),"append-inner":a(()=>[r(g,{class:"stroke-gray-500",icon:s.showPassword?"svg:hide":"svg:show",onClick:e[2]||(e[2]=l=>s.showPassword=!s.showPassword)},null,8,["icon"])]),_:1},8,["type","onKeyup","modelValue"]),r(_,{name:"slide-fade"},{default:a(()=>[s.showError.password?(d(),m("div",{key:0,class:h(["flex gap-x-2 text-[#ff4b4b]",s.isShaking?"shaking":""])},e[10]||(e[10]=[o("span",{class:"font-semibold text-[12px] mt-2"}," رمز عبور را وارد کنید. ",-1)]),2)):w("",!0)]),_:1})],2),o("div",O,[r(M,{block:"",class:"btn h-[48px] bg-gradient-to-t from-primary to-primary/75 text-white",loading:s.loading,onClick:n.doLogin},{loader:a(()=>[r(u)]),default:a(()=>[e[12]||(e[12]=f(" ورود "))]),_:1},8,["loading","onClick"])]),r(p,{modelValue:s.rememberMe,"onUpdate:modelValue":e[5]||(e[5]=l=>s.rememberMe=l),label:"مرا به خاطر بسپار.",class:"mt-4"},null,8,["modelValue"])])]),_:1})])}const J=V($,[["render",W]]);export{J as default};
