import{_ as h}from"./BLTjAdUL.js";import{U as x}from"./Bn6PYqT_.js";import{_ as b,t as d,v as g,x as t,z as l,A as o,I as k,Y as V,P as D,D as N,E as y,V as f,L as P,B as _,y as n,M as C,N as L,T as z,f as r,U as B}from"./DaplssYx.js";import"./Dudy9OWa.js";const U={name:"DigitizeFrontendUsers",setup(){const i=r({}),e=r([]),p=r(6),s=r(1),v=r(!1),c=r(!1),m=r(null),a=r(!0),u=B([{title:"#",key:"index",sortable:!1},{title:"نام کاربر",key:"name"},{title:"شماره موبایل",key:"mobile",sortable:!1},{title:"استان",key:"province"},{title:"عملیات",key:"actions",align:"center",sortable:!1}]);return{user:i,items:e,columns:u,perPage:p,loading:v,userDialog:c,currentPage:s,tableLoading:a,totalRecords:m}},mounted(){this.getData()},methods:{getData(){this.tableLoading=!0,this.$axios.get(`${x}?page=${this.currentPage}&pageSize=${this.perPage}`).then(i=>{this.items=i.data.results,this.totalRecords=i.data.totalRecord,this.tableLoading=!1}).catch(i=>{this.tableLoading=!1})},openDialog(i){this.userDialog=!0,this.loading=!0,this.$axios.get(`${x}/${i.id}`).then(e=>{this.user=e.data,this.loading=!1}).catch(e=>{this.loading=!1})}}},w={class:"h-full"},R={class:"h-full"},M={key:0},T={key:1},A=["onClick"],E={class:"bg-gray-100 p-4 flex justify-between align-center"},I={key:0,class:"py-10 text-center"},S={key:1,class:"p-6 grid grid-cols-2 gap-6 text-[14px] text-gray-600"},j={class:"pr-1"},F={class:"pr-1"},Y={class:"pr-1"},q={class:"pr-1"},G={class:"pr-1"},H={class:"pr-1"},J={class:"col-span-2"},K={class:"pr-1"};function O(i,e,p,s,v,c){const m=h;return d(),g("div",w,[t("section",R,[l(C,{items:s.items,headers:s.columns,loading:s.tableLoading,"fixed-header":"","no-data-text":"آیتمی برای نمایش وجود ندارد","hide-default-footer":"",class:"h-full rounded-[10px]"},{"item.index":o(({index:a})=>[t("div",null,n((s.currentPage-1)*s.perPage+1+a),1)]),"item.name":o(({item:a})=>[a.firstName?(d(),g("div",M,n(`${a.firstName} ${a.lastName}`),1)):(d(),g("div",T,"-"))]),"item.actions":o(({item:a})=>[t("div",null,[l(N,{transition:"scale-transition"},{activator:o(({props:u})=>[l(f,P({color:"grey"},u),{default:o(()=>e[4]||(e[4]=[_("mdi-dots-vertical")])),_:2},1040)]),default:o(()=>[l(y,{class:"p-1.5 flex"},{default:o(()=>[t("div",{class:"flex flex-col align-center p-2 rounded-lg hover:bg-gray-100 cursor-pointer duration-300 min-w-[90px]",onClick:u=>c.openDialog(a)},[l(f,{icon:"svg:show",class:"stroke-gray-500",size:"small"}),e[5]||(e[5]=t("span",{class:"text-[11px] text-gray-500 font-semibold mt-1"},"مشاهده جزئیات",-1))],8,A)]),_:2},1024)]),_:2},1024)])]),bottom:o(()=>[s.items.length?(d(),k(V,{key:0,class:"my-4",color:"primary","total-visible":5,density:"comfortable",modelValue:s.currentPage,"onUpdate:modelValue":e[0]||(e[0]=a=>s.currentPage=a),length:Math.ceil(s.totalRecords/s.perPage),onClick:e[1]||(e[1]=a=>c.getData())},null,8,["modelValue","length"])):D("",!0)]),_:2},1032,["items","headers","loading"])]),l(z,{modelValue:s.userDialog,"onUpdate:modelValue":e[3]||(e[3]=a=>s.userDialog=a),width:"600"},{default:o(()=>[l(y,{class:"rounded-large"},{default:o(()=>[t("div",E,[e[7]||(e[7]=t("span",{class:"text-[18px]"}," جزئیات کاربر ",-1)),l(f,{size:"large",color:"red",onClick:e[2]||(e[2]=a=>s.userDialog=!1),class:L(s.loading?"pointer-events-none opacity-50":"")},{default:o(()=>e[6]||(e[6]=[_("mdi-close-circle-outline")])),_:1},8,["class"])]),s.loading?(d(),g("div",I,[l(m,{color:"#C7333A",class:"mx-auto"})])):(d(),g("div",S,[t("div",null,[e[8]||(e[8]=t("strong",null,"نام و نام خانوادگی:",-1)),t("span",j,n(s.user.firstName?`${s.user.firstName} ${s.user.lastName}`:"-"),1)]),t("div",null,[e[9]||(e[9]=t("strong",null,"شماره موبایل:",-1)),t("span",F,n(s.user.mobile),1)]),t("div",null,[e[10]||(e[10]=t("strong",null,"ایمیل:",-1)),t("span",Y,n(s.user.email?s.user.email:"-"),1)]),t("div",null,[e[11]||(e[11]=t("strong",null,"نام کاربری:",-1)),t("span",q,n(s.user.userName?s.user.userName:"-"),1)]),t("div",null,[e[12]||(e[12]=t("strong",null,"استان/شهر:",-1)),t("span",G,n(`${s.user.province}/${s.user.city?s.user.city:"نا مشخص"}`),1)]),t("div",null,[e[13]||(e[13]=t("strong",null,"کد پستی:",-1)),t("span",H,n(s.user.postalCode?s.user.postalCode:"-"),1)]),t("div",J,[e[14]||(e[14]=t("strong",null,"آدرس:",-1)),t("span",K,n(s.user.address?s.user.address:"-"),1)])]))]),_:1})]),_:1},8,["modelValue"])])}const $=b(U,[["render",O]]);export{$ as default};
